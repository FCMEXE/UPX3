<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="style.css" />

    <link
      href="https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css"
      rel="stylesheet"
    />

  </head>

  <body>
    <nav class="sidebar close">
      <header>
        <div class="image-text">
          <span class="image">
           <i class='bx bxs-lemon icon'></i>
          </span>

          <div class="text logo-text">
            <span class="name">QuadraConecta</span>
            <span class="profession">Forjados do Fogo</span>
          </div>
        </div>

        <i class="bx bx-chevron-right toggle"></i>
      </header>

      <div class="menu-bar">
        <div class="menu">
          <li class="search-box">
            <i class="bx bx-search icon"></i>
            <input type="text" placeholder="Procure Lobbies" />
          </li>

          <ul class="menu-links">


            <li class="nav-link" data-file="Home/home.html">
              <a href="#" >
                <i class="bx bx-home-alt icon"></i>
                <span class="text nav-text">Home</span>
              </a>
            </li>

            <li class="nav-link" onclick="fetchCards()"  data-file="quadras.html">
              <a href="#" >
                <i class='bx bx-basketball icon'></i>
                <span class="text nav-text">Quadras</span>
              </a>
            </li>

            <li class="nav-link" onclick="fetchLobbies()"  data-file="lobbie.html">
              <a href="#">
                <i class='bx bx-search-alt-2 icon'></i>
                <span class="text nav-text">Lobbies </span>
              </a>
            </li>
           
            <li class="nav-link"  data-file="Agenda/agenda.html">
              <a href="#">
                <i class="bx bx-pie-chart-alt icon"></i>
                <span class="text nav-text"> Agenda</span>
              </a>
            </li>
          </ul>
        </div>


         <div class="bottom-content" >
          <li class="nav-link"  onclick="tokenProp()"  data-file="Proprietario/proprietario.html">
            <a href="#">
              <i class='bx bx-store-alt icon'></i>
              <span class="text nav-text">Proprietário</span>
            </a>
          </li>

        <div class="bottom-content">
          <li class="nav-link"  data-file="LogOut/logout.html">
            <a href="#">
              <i class="bx bx-log-out icon"></i>
              <span class="text nav-text">Sair</span>
            </a>
          </li>

         
        </div>
      </div>
    </nav>

        <section class="home"></section>
        
          <section class="cardsSec">
            <div class="containerCard" id="containerCardId"></div>
            <div class="containerCard" id="containerLobbiesId"></div>
            <div class="tokenModal"></div>
             
        </section>

  </body>
    <script src="main.js"></script>
    <script src="/MainSystem/LogOut/logOut.js"></script>
    <script>
        function fetchCards() {
            fetch('https://6626eb22b625bf088c06e78f.mockapi.io/quadras')
            .then(response => response.json())
            .then(data => {
                const cardsContainer = document.getElementById("containerCardId");
                cardsContainer.innerHTML = '';

                data.forEach(quadra => {
                    const card = document.createElement('div');
                    card.classList.add('card');
                    
                    card.innerHTML = `
                        <div class="box" id="boxCard">
                            <div class="content" id="contentCard">
                                <h2>${quadra.id}</h2>
                                <h3>${quadra.nomequadra}</h3>
                                <p>Número de Players: ${quadra.numeroplayers}</p>
                                <p>Preço por Hora: ${quadra.precohora}</p>
                                <p>Tipo solo: ${quadra.tipoquadra}</p>

                                <button class="btnCard" onclick="CreateLobbie(${quadra.id})">Criar Lobbie</button>
                            </div>
                        </div>
                    `;
                    cardsContainer.appendChild(card);
                });
            })
            .catch(error => console.log("erro:", error))
        };


        function CreateLobbie(quadraId) {
          window.location.href = `LobbieCreate.html?quadraId=${quadraId}`;
        }

        function tokenProp() {
          alert = "Digite o token "
          window.location.href = "userHome.html"
        }


          // Lobbies Render
          

          function fetchLobbies() {
            fetch('https://662902a454afcabd0737da4c.mockapi.io/Lobbies')
            .then(response => response.json())
            .then(data => {
                const cardsContainer = document.getElementById("containerLobbiesId");
                cardsContainer.innerHTML = '';

                data.forEach(quadra => {
                    const card = document.createElement('div');
                    card.classList.add('card');
                    
                    card.innerHTML = `
                        <div class="box">
              <div class="content">
                <h2>01</h2>
                <h3>Card One</h3>
                <p>
                  Lorem ipsum dolor sit amet consectetur adipisicing elit.
                  Labore, totam velit? Iure nemo labore inventore?
                </p>
                <button class="btnCard" ">
                  Detalhes da minha pika
                </button>
              </div>
            </div>
                    `;
                    cardsContainer.appendChild(card);
                });
            })
            .catch(error => console.log("erro:", error))
        }

        
     


       
      
    </script>

    
    
</html>
